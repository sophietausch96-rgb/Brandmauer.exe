/* /brandmauer/style.css */

/* === GLOBAL === */
:root{
  --bg:#000;
  --red:#ff0000;
  --green:#00ff00;
  --amber:#ffcc00;
  --glow:rgba(255,0,0,.5);
  --mono:'Source Code Pro', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace;
  --pixel:'Press Start 2P', monospace;
}
*{box-sizing:border-box}
body{
  margin:0;background:var(--bg);color:#f8f8f8;font-family:var(--pixel);
  height:100vh;overflow:hidden;text-align:center;animation:flicker 3s infinite;
}
/* Global CRT overlay */
body::before{
  content:"";position:fixed;inset:0;pointer-events:none;mix-blend-mode:overlay;opacity:.35;
  background:repeating-linear-gradient(rgba(255,255,255,.03) 0px, rgba(255,255,255,.03) 1px, transparent 2px, transparent 4px);
  animation:scan 6s linear infinite;
}
@keyframes scan{0%{transform:translateY(0)}100%{transform:translateY(4px)}}

/* Header */
#titleBar{
  position:fixed;inset:0 0 auto 0;background:#000;color:var(--red);
  padding:14px;font-size:1.1em;border-bottom:2px solid var(--red);z-index:30;letter-spacing:2px;text-transform:uppercase;
}

/* Utilities */
.hidden{display:none !important}
.button{
  background:var(--red);color:#fff;border:none;padding:14px 24px;cursor:pointer;font-family:var(--pixel);
  text-transform:uppercase;box-shadow:0 0 10px var(--red);transition:transform .12s, box-shadow .2s;font-size:.8em;
}
.button:hover{transform:scale(1.05);box-shadow:0 0 20px var(--red)}

/* Scenes */
section{position:absolute;inset:0;display:flex;justify-content:center;align-items:center}
#startScreen{background:url('start.jpg') center/cover no-repeat}
#introScreen{background:#000}
#finishScreen{background:url('finish.jpg') center/cover no-repeat}

/* Viewport (left panel) */
.viewport{
  width:min(800px,68vw);margin-top:110px;padding:32px;background:#000a;border:2px solid var(--red);
  box-shadow:0 0 20px #ff000055;text-align:left;min-height:420px;position:relative;transition:opacity .6s ease;
}
.viewport::after{
  content:"";position:absolute;inset:0;pointer-events:none;opacity:.3;
  background:repeating-linear-gradient(rgba(255,255,255,.03) 0px, rgba(255,255,255,.03) 1px, transparent 2px, transparent 4px);
}
.viewport.glitch{animation:glitchFlash .2s steps(2, jump-none) 3}
@keyframes glitchFlash{
  0%{opacity:1;filter:contrast(1)}
  50%{opacity:.45;filter:hue-rotate(90deg)}
  100%{opacity:1;filter:contrast(1)}
}

/* Start */
#startScreen .viewport{text-align:center;font-size:.62em;color:#fff;text-shadow:0 0 6px var(--red);animation:introGlow 3s ease-in-out infinite alternate}
@keyframes introGlow{from{box-shadow:0 0 8px var(--red)}to{box-shadow:0 0 25px var(--red)}}

/* Intro text */
.introBox{font-size:.62em;line-height:1.6em;white-space:pre-line;text-shadow:0 0 5px var(--red)}

/* Game layout */
#gameScreen{gap:20px;align-items:flex-start;padding-top:120px}
.stats{font-size:.6em;margin-bottom:18px;color:#ddd}
.bar{width:100%;height:18px;border:2px solid var(--red);background:#111;margin:8px 0;position:relative;overflow:hidden}
.fill{height:100%;width:100%;background:var(--green);transition:width .5s ease, box-shadow .4s ease}
#barRightWrap .fill{background:linear-gradient(90deg,#00ff00,#ffff00,#ff0000)}
#barRightWrap .fill.danger{animation:pulseRed 1.2s infinite alternate}
@keyframes pulseRed{from{box-shadow:0 0 8px #ff0000}to{box-shadow:0 0 25px #ff0000}}
.situation{margin-top:12px;font-size:.74em;line-height:1.65em;color:#ffaaaa}
.choices{margin-top:12px}
.choice{display:block;width:100%;margin:10px 0}

/* macOS-like Terminal (right panel) */
.terminal{
  width:28%;max-width:420px;height:540px;margin-top:110px;
  background:#0b0b0b;border:1px solid #2a2a2a;border-radius:8px;overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.6), 0 0 20px #ff000055;
  display:flex;flex-direction:column;
}
.term-titlebar{
  height:34px;display:flex;align-items:center;gap:8px;padding:0 10px;
  background:linear-gradient(#1b1b1b,#111);border-bottom:1px solid #2a2a2a;position:relative;
}
.tl{width:12px;height:12px;border-radius:50%;}
.tl.red{background:#ff5f57}
.tl.yellow{background:#febc2e}
.tl.green{background:#28c840}
.term-title{
  position:absolute;left:0;right:0;margin:auto;text-align:center;color:#bbb;font-family:var(--mono);font-size:.78em;pointer-events:none;
}
.terminal-output{
  flex:1;padding:14px;font-family:var(--mono);font-size:.84em;line-height:1.5;color:#a8f7b0;
  background:radial-gradient(100% 100% at 50% 0%, rgba(255,0,0,.08) 0%, rgba(0,0,0,0) 60%), #0b0b0b;
  overflow-y:auto;white-space:pre-wrap;
  animation:flicker 3s infinite;
  scrollbar-width:thin;
}
.log-line{margin:2px 0}
.log-info{color:#a8f7b0}
.log-warn{color:#ffd479}
.log-alert{color:#ff7a7a}
.log-success{color:#9be5ff}

/* Finish */
.storybox{
  background:#000a;padding:20px;font-size:.62em;line-height:1.6em;color:#fff;border:2px solid var(--red);
  text-align:left;box-shadow:0 0 15px #ff000055;
}

/* Global effects */
@keyframes flicker{0%,18%,22%,25%,53%,57%,100%{opacity:1}20%,24%,55%{opacity:.85}}
@keyframes warnFlash{from{opacity:1}to{opacity:0}}
body.warning::after{
  content:"";position:fixed;inset:0;background:rgba(255,0,0,.2);animation:warnFlash .6s ease-out
}
.glitch{animation:glitch 1s infinite}
@keyframes glitch{0%{text-shadow:2px 2px var(--red)}50%{text-shadow:-2px -2px #00ffff}100%{text-shadow:2px 2px var(--red)}}

/* Responsive */
@media (max-width:980px){
  #gameScreen{flex-direction:column;align-items:center}
  .terminal{width:min(90vw,800px);max-width:none;height:300px;margin-top:0}
  .viewport{width:min(90vw,800px)}
}